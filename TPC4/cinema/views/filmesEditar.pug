extends layout

block content
    .w3-card-4
        header.w3-container.w3-red 
            h2 Formulário de Edição do Filme 

        form.w3-container(method="POST" action="/filmes/edit/" + filme.id)
            fieldset 
                legend Metadata 
                label Id
                input.w3-input.w3-round(type="text" name="id" readonly value=filme.id)
                
                label Ano
                input.w3-input.w3-round(type="number" name="year" value=filme.year required)

                label Título
                input.w3-input.w3-round(type="text" name="title" value=filme.title required)
            
            fieldset 
                legend Elenco  
                p (Desmarca para remover um ator)
                if filme.cast.length > 0
                    each ator in filme.cast
                        label
                            input.w3-check(type="checkbox" name="cast" value=ator checked)
                            | #{ator}
                else
                    p Nenhum ator disponível
                br
                label Adicionar novo elenco (separado por vírgulas, ex.: João, Maria)
                input.w3-input.w3-round(type="text" name="new_cast")

            fieldset 
                legend Géneros  
                p (Desmarca para remover um género)
                if filme.genres.length > 0
                    each g in filme.genres
                        label
                            input.w3-check(type="checkbox" name="genres" value=g checked)
                            | #{g}
                else
                    p Nenhum género disponível
                br
                label Adicionar novo género (separado por vírgulas, ex.: Terror, Drama)
                input.w3-input.w3-round(type="text" name="new_genres")

            br 
            button.w3-btn.w3-green.w3-mb-2(type="submit") Guardar Alterações

    footer.w3-container.w3-red 
        address(style="display:inline;") Generated by EW2025 class
        a(href="javascript:history.back()", style="color:white;text-decoration:underline; margin-left:10px;") Voltar
